<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>MathTrax Demo</title>
	<script src="sonifier-mathtrax.js"></script>
  <script type="text/javascript">
    // var chartWidth = 400;
    // var chartHeight = 400;

    window.onload = function () {
      var svgroot = document.querySelector("svg");
      
      var paths = document.querySelectorAll("path");
      // console.log(paths)

      var dataline = paths[ paths.length - 1 ]
      // console.log(dataline)
      var chartarea = dataline.parentNode;
      // console.log(chartarea)

      // var bbox = document.documentElement.getBBox();
      // console.log(bbox)

      var gridlines = document.querySelectorAll("line");
      var chartHeight = gridlines[0].getAttribute("y1");
      var chartWidth = gridlines[1].getAttribute("x2");

      var sonifier = new Sonifier();
      // sonifier.init( chartarea, dataline, bbox.width, bbox.height, "white" );
      sonifier.init( svgroot, chartarea, dataline, chartWidth, chartHeight, "white" );
    }   

  </script>
</head>
<body>
  <h1>MathTrax Demo</h1>
  
  <p>parabola: y = ax^2 + b</p>
  
  <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" style="fill-opacity:1; color-rendering:auto; color-interpolation:auto; stroke:black; text-rendering:auto; stroke-linecap:square; stroke-miterlimit:10; stroke-opacity:1; shape-rendering:auto; fill:black; stroke-dasharray:none; font-weight:normal; stroke-width:1; font-family:'Dialog'; font-style:normal; stroke-linejoin:miter; font-size:12; stroke-dashoffset:0; image-rendering:auto;" id="generatedSVG">
    <!--Generated by the Batik Graphics2D SVG Generator-->
    <defs id="genericDefs"/>
    <g>
      <defs id="defs1">
        <clipPath clipPathUnits="userSpaceOnUse" id="clipPath1">
          <path d="M0 0 L400 0 L400 400 L0 400 L0 0 Z"/>
        </clipPath>
        <clipPath clipPathUnits="userSpaceOnUse" id="clipPath2">
          <path d="M0 0 L358 0 L358 358 L0 358 L0 0 Z"/>
        </clipPath>
      </defs>
      <g>
        <rect x="0" y="0" width="400" style="clip-path:url(#clipPath1); stroke:none;" height="400"/>
        <line x1="179" x2="179" y1="358" style="clip-path:url(#clipPath1); fill:none; stroke:white;" y2="0"/>
        <line x1="0" x2="358" y1="179" style="clip-path:url(#clipPath1); fill:none; stroke:white;" y2="179"/>
      </g>
      <g style="fill:fuchsia; stroke-dasharray:1; stroke-miterlimit:1; stroke-linecap:butt; stroke:fuchsia;">
        <line x1="0" x2="0" y1="0" style="fill:none; clip-path:url(#clipPath1);" y2="358"/>
        <text x="0" y="372" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">-10.0</text>
        <line x1="35" x2="35" y1="0" style="fill:none; clip-path:url(#clipPath1);" y2="358"/>
        <text x="35" y="372" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">-8.0</text>
        <line x1="71" x2="71" y1="0" style="fill:none; clip-path:url(#clipPath1);" y2="358"/>
        <text x="71" y="372" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">-6.0</text>
        <line x1="107" x2="107" y1="0" style="fill:none; clip-path:url(#clipPath1);" y2="358"/>
        <text x="107" y="372" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">-4.0</text>
        <line x1="143" x2="143" y1="0" style="fill:none; clip-path:url(#clipPath1);" y2="358"/>
        <text x="143" y="372" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">-2.0</text>
        <text x="179" y="372" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">0.0</text>
        <line x1="214" x2="214" y1="0" style="fill:none; clip-path:url(#clipPath1);" y2="358"/>
        <text x="214" y="372" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">2.0</text>
        <line x1="250" x2="250" y1="0" style="fill:none; clip-path:url(#clipPath1);" y2="358"/>
        <text x="250" y="372" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">4.0</text>
        <line x1="286" x2="286" y1="0" style="fill:none; clip-path:url(#clipPath1);" y2="358"/>
        <text x="286" y="372" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">6.0</text>
        <line x1="322" x2="322" y1="0" style="fill:none; clip-path:url(#clipPath1);" y2="358"/>
        <text x="322" y="372" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">8.0</text>
        <line x1="358" x2="358" y1="0" style="fill:none; clip-path:url(#clipPath1);" y2="358"/>
        <text x="358" y="372" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">10.0</text>
        <line x1="0" x2="358" y1="358" style="fill:none; clip-path:url(#clipPath1);" y2="358"/>
        <text x="358" y="355" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">-10.0</text>
        <line x1="0" x2="358" y1="322" style="fill:none; clip-path:url(#clipPath1);" y2="322"/>
        <text x="358" y="320" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">-8.0</text>
        <line x1="0" x2="358" y1="286" style="fill:none; clip-path:url(#clipPath1);" y2="286"/>
        <text x="358" y="286" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">-6.0</text>
        <line x1="0" x2="358" y1="250" style="fill:none; clip-path:url(#clipPath1);" y2="250"/>
        <text x="358" y="252" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">-4.0</text>
        <line x1="0" x2="358" y1="214" style="fill:none; clip-path:url(#clipPath1);" y2="214"/>
        <text x="358" y="217" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">-2.0</text>
        <text x="358" y="184" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">0.0</text>
        <line x1="0" x2="358" y1="143" style="fill:none; clip-path:url(#clipPath1);" y2="143"/>
        <text x="358" y="150" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">2.0</text>
        <line x1="0" x2="358" y1="107" style="fill:none; clip-path:url(#clipPath1);" y2="107"/>
        <text x="358" y="115" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">4.0</text>
        <line x1="0" x2="358" y1="71" style="fill:none; clip-path:url(#clipPath1);" y2="71"/>
        <text x="358" y="81" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">6.0</text>
        <line x1="0" x2="358" y1="35" style="fill:none; clip-path:url(#clipPath1);" y2="35"/>
        <text x="358" y="47" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">8.0</text>
        <line x1="0" x2="358" y1="0" style="fill:none; clip-path:url(#clipPath1);" y2="0"/>
        <text x="358" y="14" style="fill:white; clip-path:url(#clipPath1); stroke:none;" xml:space="preserve">10.0</text>
      </g>
      <g style="fill:yellow; text-rendering:optimizeLegibility; stroke-width:2; stroke:yellow;">
        <path d="M0 -1 L0 -1 L1 -1 L2 -1 L3 -1 L4 -1 L5 -1 L6 -1 L7 -1 L8 -1 L9 -1 L10 -1 L11 -1 L12 -1 L13 -1 L14 -1 L15 -1 L16 -1 L17 -1 L18 -1 L19 -1 L20 -1 L21 -1 L22 -1 L23 -1 L24 -1 L25 -1 L26 -1 L27 -1 L28 -1 L29 -1 L30 -1 L31 -1 L32 -1 L33 -1 L34 -1 L35 -1 L36 -1 L37 -1 L38 -1 L39 -1 L40 -1 L41 -1 L42 -1 L43 -1 L44 -1 L45 -1 L46 -1 L47 -1 L48 -1 L49 -1 L50 -1 L51 -1 L52 -1 L53 -1 L54 -1 L55 -1 L56 -1 L57 -1 L58 -1 L59 -1 L60 -1 L61 -1 L62 -1 L63 -1 L64 -1 L65 -1 L66 -1 L67 -1 L68 -1 L69 -1 L70 -1 L71 -1 L72 -1 L73 -1 L74 -1 L75 -1 L76 -1 L77 -1 L78 -1 L79 -1 L80 -1 L81 -1 L82 -1 L83 -1 L84 -1 L85 -1 L86 -1 L87 -1 L88 -1 L89 -1 L90 -1 L91 -1 L92 -1 L93 -1 L94 -1 L95 -1 L96 -1 L97 -1 L98 -1 L99 -1 L100 -1 L101 -1 L102 -1 L103 -1 L104 -1 L105 -1 L106 -1 L107 -1 L108 -1 L109 -1 L110 -1 L111 -1 L112 -1 L113 -1 L114 -1 L115 -1 L116 -1 L117 -1 L118 -1 L119 -1 L120 -1 L121 -1 L122 -1 L123 -1 L124 -1 L125 1 L126 4 L126 8 L127 11 L127 15 L128 18 L129 21 L129 25 L130 28 L130 31 L131 34 L132 38 L132 41 L133 44 L133 47 L134 50 L135 53 L135 56 L136 59 L136 61 L137 64 L138 67 L138 70 L139 72 L139 75 L140 78 L141 80 L141 83 L142 85 L142 88 L143 90 L144 92 L144 95 L145 97 L145 99 L146 101 L147 103 L147 106 L148 108 L148 110 L149 112 L150 114 L150 116 L151 117 L151 119 L152 121 L153 123 L153 125 L154 126 L154 128 L155 129 L155 131 L156 133 L157 134 L157 135 L158 137 L158 138 L159 140 L160 141 L160 142 L161 143 L161 144 L162 146 L163 147 L163 148 L164 149 L164 150 L165 150 L166 151 L166 152 L167 153 L167 154 L168 154 L169 155 L169 156 L170 156 L170 157 L171 157 L172 158 L173 159 L174 159 L175 160 L176 160 L177 160 L178 161 L179 161 L180 160 L181 160 L182 160 L183 159 L184 159 L185 158 L186 157 L187 157 L187 156 L188 156 L188 155 L189 154 L190 154 L190 153 L191 152 L191 151 L192 150 L193 150 L193 149 L194 148 L194 147 L195 146 L196 144 L196 143 L197 142 L197 141 L198 140 L199 138 L199 137 L200 135 L200 134 L201 133 L202 131 L202 129 L203 128 L203 126 L204 125 L204 123 L205 121 L206 119 L206 117 L207 116 L207 114 L208 112 L209 110 L209 108 L210 106 L210 103 L211 101 L212 99 L212 97 L213 95 L213 92 L214 90 L215 88 L215 85 L216 83 L216 80 L217 78 L218 75 L218 72 L219 70 L219 67 L220 64 L221 61 L221 59 L222 56 L222 53 L223 50 L224 47 L224 44 L225 41 L225 38 L226 34 L227 31 L227 28 L228 25 L228 21 L229 18 L230 15 L230 11 L231 8 L231 4 L232 1 L233 -1 L234 -1 L235 -1 L236 -1 L237 -1 L238 -1 L239 -1 L240 -1 L241 -1 L242 -1 L243 -1 L244 -1 L245 -1 L246 -1 L247 -1 L248 -1 L249 -1 L250 -1 L251 -1 L252 -1 L253 -1 L254 -1 L255 -1 L256 -1 L257 -1 L258 -1 L259 -1 L260 -1 L261 -1 L262 -1 L263 -1 L264 -1 L265 -1 L266 -1 L267 -1 L268 -1 L269 -1 L270 -1 L271 -1 L272 -1 L273 -1 L274 -1 L275 -1 L276 -1 L277 -1 L278 -1 L279 -1 L280 -1 L281 -1 L282 -1 L283 -1 L284 -1 L285 -1 L286 -1 L287 -1 L288 -1 L289 -1 L290 -1 L291 -1 L292 -1 L293 -1 L294 -1 L295 -1 L296 -1 L297 -1 L298 -1 L299 -1 L300 -1 L301 -1 L302 -1 L303 -1 L304 -1 L305 -1 L306 -1 L307 -1 L308 -1 L309 -1 L310 -1 L311 -1 L312 -1 L313 -1 L314 -1 L315 -1 L316 -1 L317 -1 L318 -1 L319 -1 L320 -1 L321 -1 L322 -1 L323 -1 L324 -1 L325 -1 L326 -1 L327 -1 L328 -1 L329 -1 L330 -1 L331 -1 L332 -1 L333 -1 L334 -1 L335 -1 L336 -1 L337 -1 L338 -1 L339 -1 L340 -1 L341 -1 L342 -1 L343 -1 L344 -1 L345 -1 L346 -1 L347 -1 L348 -1 L349 -1 L350 -1 L351 -1 L352 -1 L353 -1 L354 -1 L355 -1 L356 -1 L357 -1 M357 -1 Z" style="fill:none; fill-rule:evenodd; clip-path:url(#clipPath2);"/>
      </g>
    </g>
  </svg>
  
</body>
</html>
